<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>寒假做题记录 - Ramen's Box</title><meta name=Description content="Ramen's stuff box"><meta property="og:title" content="寒假做题记录"><meta property="og:description" content="猜猜我寒假经历了什么？
本来应该打线段树板子的晚上，我的Elementary OS正式“驾崩”，于是我装了很多天系统（以及摸鱼），度过了一个充实的寒假。
寒假的尾巴做了一些题目，就记一下寒假尾巴做过的这些题目吧。"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.lxdlam.com/post/1e8a5360/"><meta property="og:image" content="https://blog.lxdlam.com/logo.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2018-03-06T00:59:03+08:00"><meta property="article:modified_time" content="2023-01-04T02:01:57+08:00"><meta property="og:site_name" content="My cool site"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blog.lxdlam.com/logo.png"><meta name=twitter:title content="寒假做题记录"><meta name=twitter:description content="猜猜我寒假经历了什么？
本来应该打线段树板子的晚上，我的Elementary OS正式“驾崩”，于是我装了很多天系统（以及摸鱼），度过了一个充实的寒假。
寒假的尾巴做了一些题目，就记一下寒假尾巴做过的这些题目吧。"><meta name=application-name content="Ramen's Box"><meta name=apple-mobile-web-app-title content="Ramen's Box"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://blog.lxdlam.com/post/1e8a5360/><link rel=prev href=https://blog.lxdlam.com/post/3885f5e9/><link rel=next href=https://blog.lxdlam.com/post/975c3b4d/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><meta name=google-site-verification content="UA-92306989-1"><meta name=baidu-site-verification content="092774cb717e6851abd2d7fc55835b40"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"寒假做题记录","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/blog.lxdlam.com\/post\/1e8a5360\/"},"image":["https:\/\/blog.lxdlam.com\/images\/Apple-Devices-Preview.png"],"genre":"posts","keywords":"ACM-ICPC, 刷题, 算法竞赛, 算法, 数据结构","wordcount":3154,"url":"https:\/\/blog.lxdlam.com\/post\/1e8a5360\/","datePublished":"2018-03-06T00:59:03+08:00","dateModified":"2023-01-04T02:01:57+08:00","license":"本站所有内容基于署名-非商业性使用-相同方式共享 4.0 国际协议（CC BY-NC-SA 4.0）给出许可","publisher":{"@type":"Organization","name":"Ramen","logo":"https:\/\/blog.lxdlam.com\/images\/avatar.png"},"author":{"@type":"Person","name":"Ramen"},"description":""}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Ramen's Box"><span class=header-title-pre><i class='fas fa-star'></i></span>Ramen's Box</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>所有文章 </a><a class=menu-item href=/tags/>标签 </a><a class=menu-item href=/categories/>分类 </a><a class=menu-item href=/about/>关于 </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题>
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Ramen's Box"><span class=header-title-pre><i class='fas fa-star'></i></span>Ramen's Box</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts/ title>所有文章</a><a class=menu-item href=/tags/ title>标签</a><a class=menu-item href=/categories/ title>分类</a><a class=menu-item href=/about/ title>关于</a><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题>
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>目录</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">寒假做题记录</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://blog.lxdlam.com title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>Ramen</a></span>&nbsp;<span class=post-category>收录于 <a href=/categories/%E8%B6%A3%E9%A2%98%E8%AE%B0%E5%BD%95/><i class="far fa-folder fa-fw" aria-hidden=true></i>趣题记录</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2018-03-06>2018-03-06</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;约 3154 字&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;预计阅读 7 分钟&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#0x01-模板题>0x01. 模板题</a></li><li><a href=#0x02-趣题>0x02. 趣题</a></li><li><a href=#0x03-难题>0x03. 难题</a></li></ul></nav></div></div><div class=content id=content><p>猜猜我寒假经历了什么？</p><p>本来应该打线段树板子的晚上，我的Elementary OS正式“驾崩”，于是我装了很多天系统（以及摸鱼），度过了一个<del>充实</del>的寒假。</p><p>寒假的尾巴做了一些题目，就记一下寒假尾巴做过的这些题目吧。</p><blockquote><p>我的答案仓库是<a href=https://github.com/lxdlam/CP-Answers target=_blank rel="noopener noreffer">Click Me!</a>。根据题号你能找到我的答案，但是我的很多答案有<strong>很大</strong>的提高和优化空间，欢迎你与我探讨！</p></blockquote><h2 id=0x01-模板题>0x01. 模板题</h2><p><del>这里应该是线段树的模板题，纪念一下，3月再补吧</del></p><p>喜闻乐见的什么都没有。</p><h2 id=0x02-趣题>0x02. 趣题</h2><p>这个假期也就主要打了Codeforces和AtCoder，所以绝大部分题目都来自于此。</p><ol><li><p><a href=https://vjudge.net/problem/TopCoder-14813 target=_blank rel="noopener noreffer">ExpectedMinimumPowerDiv2</a></p><p>第一题是来自TopCoder的。</p><p>人生中的第一场TopCoder SRM，不得不说作为Codeforce规则的起源，这种规则真的紧张刺激，尤其是看聊天区有人在看我的Solution的时候，无敌紧张。</p><p>看题，给出两个整数$n$和$x$，在$1\sim n$区间中任选$x$个数的一个子集$S$，把这个子集中的最小元素$\min(S)$看作这个集合的代表元素。问这么选择下的$2^S$的数学期望。</p><p>首先数学期望定义是很明确的，出现的值乘以概率，由于这里面的选择随机，也就是等可能性选择，所以期望就是简单的总和除以方案数。</p><p>方案数是十分容易求的，$\binom{n}{x}$，关键问题在于这个总和上。首先考虑这样一个子问题：包含$1$的选择方法有多少？实际上是另一个组合问题：我们确定了$1$，从剩下的$n-1$个元素中选择$x-1$个元素有多少种方法？很简单，就是$\binom{n-1}{x-1}$。接下来来考虑$2$的情况：由于在$1$的情况中，已经包含了$2$的部分情况，这一部分可以求得为$\binom{n-2}{x-2}$。那么$2$的选择方法有$\binom{n-1}{x-1}$，我们拿掉这些情况就有$\binom{n-1}{x-1}-\binom{n-2}{x-2}=\binom{n-2}{x-1}$种情况。以此类推，$3$就有$\binom{n-3}{x-1}$种方法……直到$x$时有$\binom{x-1}{x-1}$种情况为止。那么最终答案就是如下的简单式子：</p><p>$$
\frac{2^1\cdot\binom{n-1}{x-1}+2^2\cdot\binom{n-2}{x-1}+\cdots+2^x\cdot\binom{x-1}{x-1}}{\binom{n}{x}}
$$</p><p>一个循环就能计算了。</p><p>上面这个过程还有一种更直观的方法：我们从$1$开始迭代，那么当我们把含$1$的组全部筛选掉之后，$2$的选择时自然不能考虑$1$，所以本来$2$可以从剩下$n-1$个元素中选择，现在$1$也被排除，只剩下$n-2$个元素了，自然是$\binom{n-2}{x-1}$。</p><p>比较好玩的数学问题，从公式推导上有考虑的价值。（然而比赛的时候手动验算算错了，后面写了个demo发现是对了一波就过了。要是不搞这些幺蛾子说不定分数还能更高。</p></li><li><p><a href=https://abc088.contest.atcoder.jp/tasks/abc088_c target=_blank rel="noopener noreffer">Takahashi&rsquo;s Information</a></p><p>一道比较有趣的方程问题。</p><p>给出一个9宫格，如下编号：</p><p>$$\begin{matrix}c_{1,1} & c_{1,2} & c_{1,3} \\ c_{2,1} & c_{2,2} & c_{3,3} \\ c_{3,1} & c_{3,2} & c_{3,3}\end{matrix}$$</p><p>对于每一个数，满足$c_{i,j}=a_i+b_j$。问是否存在这样的六元组$(a_1,a_2,a_3,b_1,b_2,b_3)$，使得上述命题成立。</p><p>这个题一上来很容易拆成$9$个方程的方程组去做，然而这个题实际上难度只是AtCoder Beginners Contest的第三题而已，肯定不会这么大动干戈。</p><p>首先观察一个很基本的事实：任何一个数的得出方法有多个。考虑$c_{1,1}=a_1+b_1, c_{2,1}=a_2+b_1$，马上就能得出$a_2-a_1=c_{2,1}-c_{1,1}$。根据这样的观察，我们可以解出$a_2-a_1,a_3-a_2,a_3-a_1$，那我们几乎可以立即得出$a_2-a_1+a_3-a_2=a_3-a_1$，这样通过两条路就解出了同一个解。假如上述命题成立，这样的等式一定成立，同时还可以对$b_2-b_1+b_3-b_2=b_3-b_1$做出验证，假如这两条都满足，毫无疑问命题成立。</p><p>官方题解则提供了另一种做法：首先根据观察，这样的解一定有无穷多个：考虑解元组$(a_1,a_2,a_3,b_1,b_2,b_3)$：</p><p>$$
(p_1,p_2,p_3,q_1,q_2,q_3)
$$</p><p>我们可以对任意的一个偏移量$x$如下构造$(a_1&rsquo;,a_2&rsquo;,a_3&rsquo;,b_1&rsquo;,b_2&rsquo;,b_3&rsquo;)$：</p><p>$$
(p_1+x,p_2+x,p_3+x,q_1-x,q_2-x,q_3-x)
$$</p><p>毫无疑问，$(a_1&rsquo;,a_2&rsquo;,a_3&rsquo;,b_1&rsquo;,b_2&rsquo;,b_3&rsquo;)$也是一组可行解，也就是说，这样的解有无穷多个。那也就是说，$\exists x\in\mathbb{Z},a_1=p_1+x=0$。那到这里其实就很简单了，我们直接令$a_1=0$，然后代入解出一个解元组，之后逐条验证即可。</p><p>这一题有趣的地方在于不定方程的处理，我们并不是直接开始高斯消元，而是从一些基本的数学原理入手反向验证，是一道开拓思维的好题目。</p></li><li><p><a href=http://codeforces.com/problemset/problem/920/C target=_blank rel="noopener noreffer">Swap Adjacent Elements</a></p><p>前缀和是区间统计的一大利器。</p><p>给出$n$长度的一个序列$A=a_1,a_2,\cdots,a_n$，同时给出一个$n-1$长度的字符串$S$，这个字符串的含义为：假如$S_i=1$，那么$a_i$可以和$a_{i+1}$任意多次按任意顺序互换，否则不行。问你根据给定的状况能否把这个序列排成上升序的。</p><p>一个排序问题。这里我们如下考虑：假如$a_j=i$，那么意味着$a_j$应该在$a_i$现在的位置上。由于这种交换没有步骤限制，我们可以在行动范围内任意的做出一些临时操作，所以我们的问题简化成了：$a_j$能否来到$i$这个位置。接下来考虑这样的$S=01111000110$，显而易见的是，$a_2\sim a_5$与$a_9\sim a_{10}$是可以无限互换的，那实际上这里就变成了一个很简单的情况：我们只需要考虑$j-i$这段区间内是否是连续的$1$。接下来我们考虑如何获得这个信息：我们把连续的$1$统计成距离，遇到$0$就重新统计，那么上面的$S$转化过后可得如下序列：$0,1,2,3,4,5,0,0,0,1,2,0$，那么我们就很容易可以计算两点间距离，上述问题就转化成$S&rsquo;_i\ge j-i$的问题。那这样我们只需要扫一遍$S$做一下距离统计，再扫一遍原序列即可，$\mathcal{O}(n)$。</p><p>这一题又一次利用到了前缀和的统计优点，可以说前缀和统计是一个必备的区间统计技巧了，树状数组也是利用了这一个性质。</p></li><li><p><a href=http://codeforces.com/problemset/problem/937/B target=_blank rel="noopener noreffer">Vile Grasshoppers</a></p><p>很有趣的一道题目。</p><p>这有一棵树，树有许多树枝，依次编号为$2\sim y$，同时，在$2\sim p$上各有一只蚂蚱，这些蚂蚱的跳跃能力很强：假如这只蚂蚱在$x$号树枝上，那么它可以跳跃到$2\cdot x, 3\cdot x,\cdots,\lfloor\frac{y}{x}\rfloor\cdot x$上。现在给出$y$和$p$，求最高的，不会被蚂蚱跳到的树枝的编号，如果没有这样的树枝，输出$-1$即可。</p><p>学过埃筛的一定知道这样的一个结论：一个数的两个不同的成对因子一定落在这个数的平方根两侧，也就是说，$\forall p&lt;q, x=p\cdot q$满足$2\le p\le\sqrt{x}&lt;q\le x$。这一题实际上就利用了这一个结论：我们对每一个数$k$来确认如下事实：$\exists x\in[2,p], x^2\le k\land x|k=0$，假如满足，那这个$k$不满足条件。那么我们直接倒序遍历$[p,y]$，来确认是否存在这样的$k$，存在即输出，否则输出$-1$即可。</p><p>这一点观察其实十分的简单：能够整除$x$的因子必定有一半在$[2,\lfloor\sqrt{x}\rfloor]$里面，所以我们检测这里面所有因子即可。更深入思考其实有一个更强的结论：第一个小于等于$x$的质数一定满足要求。所以我们直接使用埃筛的筛法寻找第一个数就可以了。</p><p>来自于质数筛的一个小结论，就这样变成了一道十分有趣的数论题，这也正是数学的魅力。</p></li></ol><h2 id=0x03-难题>0x03. 难题</h2><p>其实这两个月遗留了很多难题，但是刚好遇上开学，所以也没来得及补，这些题就留给下个月吧～</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>更新于 2023-01-04</span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="分享到 Twitter" data-sharer=twitter data-url=https://blog.lxdlam.com/post/1e8a5360/ data-title=寒假做题记录 data-hashtags=ACM-ICPC,刷题,算法竞赛,算法,数据结构><i class="fab fa-twitter fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="分享到 Facebook" data-sharer=facebook data-url=https://blog.lxdlam.com/post/1e8a5360/ data-hashtag=ACM-ICPC><i class="fab fa-facebook-square fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="分享到 Instapaper" data-sharer=instapaper data-url=https://blog.lxdlam.com/post/1e8a5360/ data-title=寒假做题记录 data-description><i data-svg-src=https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/instapaper.svg aria-hidden=true></i></a><a href=javascript:void(0); title="分享到 Pocket" data-sharer=pocket data-url=https://blog.lxdlam.com/post/1e8a5360/><i class="fab fa-get-pocket fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="分享到 微博" data-sharer=weibo data-url=https://blog.lxdlam.com/post/1e8a5360/ data-title=寒假做题记录><i class="fab fa-weibo fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="分享到 Evernote" data-sharer=evernote data-url=https://blog.lxdlam.com/post/1e8a5360/ data-title=寒假做题记录><i class="fab fa-evernote fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/acm-icpc/>ACM-ICPC</a>,&nbsp;<a href=/tags/%E5%88%B7%E9%A2%98/>刷题</a>,&nbsp;<a href=/tags/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B/>算法竞赛</a>,&nbsp;<a href=/tags/%E7%AE%97%E6%B3%95/>算法</a>,&nbsp;<a href=/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/>数据结构</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/>主页</a></span></section></div><div class=post-nav><a href=/post/3885f5e9/ class=prev rel=prev title=初尝Flutter><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>初尝Flutter</a>
<a href=/post/975c3b4d/ class=next rel=next title=SICP笔记(1)>SICP笔记(1)<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>由 <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.109.0">Hugo</a> 强力驱动 | 主题 - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden=true></i> LoveIt</a></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2017 - 2023</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://blog.lxdlam.com target=_blank>Ramen</a></span>&nbsp;|&nbsp;<span class=license><a rel="license noopener" href=https://creativecommons.org/licenses/by-nc-sa/4.0/ target=_blank>署名-非商业性使用-相同方式共享 4.0 国际</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=回到顶部><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title=查看评论><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/copy-tex.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/mhchem.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"复制到剪贴板",maxShownLines:10},comment:{},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1}}</script><script type=text/javascript src=/js/theme.min.js></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-92306989-1",{anonymize_ip:!0})</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=UA-92306989-1" async></script></body></html>