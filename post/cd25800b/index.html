<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>12月做题记录 - Ramen's Box</title><meta name=Description content="Ramen's stuff box"><meta property="og:title" content="12月做题记录"><meta property="og:description" content><meta property="og:type" content="article"><meta property="og:url" content="https://blog.lxdlam.com/post/cd25800b/"><meta property="og:image" content="https://blog.lxdlam.com/logo.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2018-01-10T20:07:09+08:00"><meta property="article:modified_time" content="2023-01-04T02:01:57+08:00"><meta property="og:site_name" content="My cool site"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blog.lxdlam.com/logo.png"><meta name=twitter:title content="12月做题记录"><meta name=twitter:description content><meta name=application-name content="Ramen's Box"><meta name=apple-mobile-web-app-title content="Ramen's Box"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://blog.lxdlam.com/post/cd25800b/><link rel=prev href=https://blog.lxdlam.com/post/a7da9690/><link rel=next href=https://blog.lxdlam.com/post/589e1e37/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><meta name=google-site-verification content="UA-92306989-1"><meta name=baidu-site-verification content="092774cb717e6851abd2d7fc55835b40"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"12月做题记录","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/blog.lxdlam.com\/post\/cd25800b\/"},"image":["https:\/\/blog.lxdlam.com\/images\/Apple-Devices-Preview.png"],"genre":"posts","keywords":"ACM-ICPC, 算法竞赛, 算法, 刷题, 数据结构","wordcount":3053,"url":"https:\/\/blog.lxdlam.com\/post\/cd25800b\/","datePublished":"2018-01-10T20:07:09+08:00","dateModified":"2023-01-04T02:01:57+08:00","license":"本站所有内容基于署名-非商业性使用-相同方式共享 4.0 国际协议（CC BY-NC-SA 4.0）给出许可","publisher":{"@type":"Organization","name":"Ramen","logo":"https:\/\/blog.lxdlam.com\/images\/avatar.png"},"author":{"@type":"Person","name":"Ramen"},"description":""}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Ramen's Box"><span class=header-title-pre><i class='fas fa-star'></i></span>Ramen's Box</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>所有文章 </a><a class=menu-item href=/tags/>标签 </a><a class=menu-item href=/categories/>分类 </a><a class=menu-item href=/about/>关于 </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题>
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Ramen's Box"><span class=header-title-pre><i class='fas fa-star'></i></span>Ramen's Box</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts/ title>所有文章</a><a class=menu-item href=/tags/ title>标签</a><a class=menu-item href=/categories/ title>分类</a><a class=menu-item href=/about/ title>关于</a><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题>
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>目录</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">12月做题记录</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://blog.lxdlam.com title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>Ramen</a></span>&nbsp;<span class=post-category>收录于 <a href=/categories/%E8%B6%A3%E9%A2%98%E8%AE%B0%E5%BD%95/><i class="far fa-folder fa-fw" aria-hidden=true></i>趣题记录</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2018-01-10>2018-01-10</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;约 3053 字&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;预计阅读 7 分钟&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#0x00-前言>0x00. 前言</a></li><li><a href=#0x01-模板题>0x01. 模板题</a></li><li><a href=#0x02-趣题>0x02. 趣题</a></li><li><a href=#0x03-难题>0x03. 难题</a></li></ul></nav></div></div><div class=content id=content><h2 id=0x00-前言>0x00. 前言</h2><p>大家好，我是Ramen。</p><p>12月注定是很忙的一月，大作业验收+ACM新生杯，还有其他各种各样的事情。嘛，最后反正都能顺利解决的吧。</p><p>这个月也就打了很多比赛，感觉打比赛成为常态，学习停滞了，不是很好。下个月寒假，开始学习新的东西了！</p><p>GSoC 2018也要开始了，套词好像很难的样子，稍微准备准备吧。</p><blockquote><p>我的答案仓库是 <a href=https://github.com/lxdlam/CP-Answers target=_blank rel="noopener noreffer">Click Me!</a>。根据题号你能找到我的答案，但是我的答案有<strong>很大</strong>改进余地，欢迎与我探讨。</p></blockquote><h2 id=0x01-模板题>0x01. 模板题</h2><p>很忙的一个月，没刷模板题，跳过了。</p><p>哎！</p><h2 id=0x02-趣题>0x02. 趣题</h2><p>思路有趣是做题最爽的，有趣的思路就是有趣的题目。有趣，也是我打ACM的本源动力嘛。</p><ol><li><p><a href=https://www.hackerearth.com/zh/practice/data-structures/arrays/multi-dimensional/practice-problems/algorithm/monk-and-operations/description/ target=_blank rel="noopener noreffer">Monk and Operations</a></p><p>Another India Site. 印度人在这方面是比中国人走得远，各种专门的面试网站算法网站，GSoC也是组团去的，真的是十分团结。这个网站也是十分热心，注册了之后我做了一道水题就没管了，结果好几封邮件问我怎么不来。</p><p>扯远了，看题。一个$n\times m$的矩阵$A$，你可以进行四种操作：</p><ol><li>选一行，把这一行全部加上$v1$；</li><li>选一行，这一行全部改成$v2$；</li><li>选一列，把这一列全部加上$v3$；</li><li>选一列，把这一列全部变成$v4$。</li></ol><p>任意一种操作你可以执行无数次，但是每一个格子<strong>至多</strong>执行1种操作。也就是说，这个格子可以不执行操作，假如执行了，那就是上面的任意一种，也只能有这一种。</p><p>答案问的是最大的$F(x)$，其中$F(x)$我们这么定义：</p><p>$$ F(x)=\sum_{i=1}^{n}\sum_{j=1}^{m}|a_{i,j}| $$</p><p>这个题其实深入分析题意，我们知道，一个格子要么是本行被改，要么本列被改。有什么问题吗？很简单，一改就涉及一行或者一列，任何<strong>不同方向上的操作</strong>都会导致至少1个格子操作了两次。那实际上，这个题就是针对每行，针对每列计算最大$F(x)$，然后比较对行对列操作的最大值修改即可。简单吧？</p><p>思路有点意思，一开始我以为需要状态压缩DP，后面再度分析才发现的确不难。</p></li><li><p><a href=http://codeforces.com/problemset/problem/903/D target=_blank rel="noopener noreffer">Almost Difference</a></p><p>车祸题。出题人错误估计答案范围，结果答案范围超过了$10^{18}​$，然后1k个人过的题目，hack phase开始之后就剩100+人了。<del>我的答案对了，C++一发没过，改成python准备一试结果实现完比赛结束了。</del></p><p>题目本身是比较有趣的，给出序列，对所有数对求$d(x,y)$，其中$d(x,y)$这么定义：</p><p>$$d(x,y)=\begin{cases}y-x&|x-y|>1\\0&|x-y|\le1\end{cases}$$</p><p>其实一开始计算我想了很多办法，比如$d(x,y)+d(y,x)=0$，考虑用Manacher的方法去做，但是很明显的，这也是$\mathcal{O}(n^2)$。后面突然发现，假如单纯定义$d(x,y)=y-x$，这个题可以转化成一类求后缀和问题，对于每个数$x_i$，$\sum d(x_i,y)$就是$y_{sum}-k*x_i$。其中$k$是$x_i$后面数的个数，$y_{sum}$是$x_i$之后数的和，就是后缀和。那么现在问题就在于如何处理特殊情况。我们考虑顺序扫一遍，可以统计出任何一个数的出现次数，那么就好办了，考虑$x_i$之后有多少个$x_i-1$，答案自然加上这些数的差，显然是$1$，同理$x_i+1$也可以直接处理。那就是统计+后缀和+扫一遍，整体复杂度$\mathcal{O}(n)$。</p><p>这个题的后缀和做法让我还是记忆犹新，这也是难得我在比赛时思路能如此清晰的一次。</p></li><li><p><a href=http://codeforces.com/problemset/problem/897/C target=_blank rel="noopener noreffer">Nephren gives a riddle</a></p><p>Chinese round again！</p><p>中国人的轮就是题目很有趣。</p><p>这一题很简单，给出基础字符串$f_0$，按照如下规则构造字符串：$f_n=s_0+f_{n-1}+s_1+f_{n-1}+s_2$。问$f_n$的$p$位置字符是什么。</p><p>这是一道无限生成字符串的题目，相似的题目很多，今年沈阳站A题也出过。</p><p>这一题如果就是耿直的下去做，一定会爆炸。因为$1\le n\le10^5$，同时一个点至多$10$次询问，那么整个时间直接抬走。这里第一步预处理考虑字符串长度，因为$|f_0|=75$，又知道$|s_0|=34,|s_1|=32,|s_2|=2$，我们使用递推公式$|f_n|=2\times |f_{n-1}|+68$可以很快得到整个字符串的长度。由于$1\le p\le10^{18}$，我们几乎立即解出这个字符串满足$n\le54$时需要对完整串搜索。那我们耿直一波？$10^{18}$个字符，抬走了。</p><p>这里做法其实应该是比较显然的，DFS。我们根据字符串长度，由于$f_n=s_0+f_{n-1}+s_1+f_{n-1}+s_2$，我们可以判断出这个位置是落在哪一节里面，然后不断DFS下去，可以找到独立的那一节，直接输出就行。</p><p>很有趣的题目，这个DFS可以说是很棒的题目了。</p></li><li><p><a href=http://codeforces.com/contest/911/problem/D target=_blank rel="noopener noreffer">Inversion Counting</a></p><p>现场学习算法系列。</p><p>刚好是一个空缺。其实挺好的，前几个月停留在不知道要求什么，现在已经到要怎么求的状态了，是一种进步？</p><p>题目其实一看就是卡时间的。给出一个$n$长度的正整数排列，然后给出$m$组翻转，每组为$[l_i,r_i]$。问每一步的逆序数的奇偶性。</p><p>一上来就直接求逆序数。根据我们知道的，朴素算法$\mathcal{O}(n^2)$时间内能求，但是肯定会超时。</p><p>现场学习了树状数组求逆序数，树状数组就不讲了，主要是用树状数组怎么求，其实很简单，由于题目给出的是一个排列，那我们只需要单点更新同时统计。更新的时候我们把出现过的数置$1$，然后根据前缀和特性就可以求。这个方法核心在<code>pos-getsum(num)</code>，<code>pos</code>就是当前有多少个数，<code>getsum(num)</code>就是这个数前面有多少个数，那其实很简单，就是现在有的数减去前面的数，自然就是后面的数，后面所有的数都和这个数构成一组逆序，那后面有几个就有几组逆序。根据树状数组特性，知道这样复杂度是$\mathcal{O}(nlogn)$。</p><p>当然，这只是顺便一提，这个题根本不用这么做。首先考虑对于一个长度为$k$的序列会有几组逆序。我们考虑$4,3,2,1$，这就是完全逆序，所以我们得到了$\binom{k}{2}$，这也就是最多可出现的逆序对。那当我们整个翻转之后，整个顺序刚好颠倒，那假设前面占了$x$种，这里正好就是$\binom{k}{2}-x$。好了，小学数学time，偶数加偶数等于偶数，偶数加奇数等于奇数。所以这里根本不用管有几种，加上$\binom{k}{2}$万事大吉。所以这个题就解决了，甚至$\binom{n}{2}=\frac{n(n-1)}{n}$，$\mathcal{O}(m)$解决战斗。</p><p>这个题有点意思，我们可以抛弃一些看似需要其实不需要的属性，然后求解。</p></li><li><p><a href=http://codeforces.com/contest/899/problem/C target=_blank rel="noopener noreffer">Dividing the numbers</a></p><p>这个题，把$1,2,\cdots,n$划分成两个非空集合，让$|sum(s_l)-sum(s_r)|$尽可能的小。构造解问题。</p><p>这个其实很容易就能知道，这些数的和要不为奇数要不为偶数，那么两份均分后要不两份大小相等，要不这两份的差为1。接下来要考虑怎么切分，根据$\sum^{n}_{i=1}i=\frac{n(n-1)}{2}$，那么实际上可以观察出我们这个和的大小会均分成4份。这里很容易可以看出来，可以模拟试一下。那么我们知道对于连续的四个数$i,j,k,l\in{1,2,\cdots,n}$，这四个数必定满足$i+l=j+k$。那到这一步就简单了，挨个遍历四元集$(i,j,k,l)$，然后构造即可。</p><p>这个题难在拆分算法构造上，一开始很容易直接二分然后两头构造，但是并不是所有可行元素都是集中在两头和中间的。这里我们的做法是一种分治：按大小为4划分子块，保证每个子块的划分都满足题目要求，那完全划分完后的整个序列也满足题目要求。</p></li></ol><h2 id=0x03-难题>0x03. 难题</h2><p>这个月好像没什么让我印象深刻的难题……可能还是因为太忙了做题少……</p><p>That&rsquo;s All.</p><p>1月要好好刷题啦！</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>更新于 2023-01-04</span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="分享到 Twitter" data-sharer=twitter data-url=https://blog.lxdlam.com/post/cd25800b/ data-title=12月做题记录 data-hashtags=ACM-ICPC,算法竞赛,算法,刷题,数据结构><i class="fab fa-twitter fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="分享到 Facebook" data-sharer=facebook data-url=https://blog.lxdlam.com/post/cd25800b/ data-hashtag=ACM-ICPC><i class="fab fa-facebook-square fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="分享到 Instapaper" data-sharer=instapaper data-url=https://blog.lxdlam.com/post/cd25800b/ data-title=12月做题记录 data-description><i data-svg-src=https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/instapaper.svg aria-hidden=true></i></a><a href=javascript:void(0); title="分享到 Pocket" data-sharer=pocket data-url=https://blog.lxdlam.com/post/cd25800b/><i class="fab fa-get-pocket fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="分享到 微博" data-sharer=weibo data-url=https://blog.lxdlam.com/post/cd25800b/ data-title=12月做题记录><i class="fab fa-weibo fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="分享到 Evernote" data-sharer=evernote data-url=https://blog.lxdlam.com/post/cd25800b/ data-title=12月做题记录><i class="fab fa-evernote fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/acm-icpc/>ACM-ICPC</a>,&nbsp;<a href=/tags/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B/>算法竞赛</a>,&nbsp;<a href=/tags/%E7%AE%97%E6%B3%95/>算法</a>,&nbsp;<a href=/tags/%E5%88%B7%E9%A2%98/>刷题</a>,&nbsp;<a href=/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/>数据结构</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/>主页</a></span></section></div><div class=post-nav><a href=/post/a7da9690/ class=prev rel=prev title="Good Bye 2017"><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>Good Bye 2017</a>
<a href=/post/589e1e37/ class=next rel=next title=Linux与Optimus>Linux与Optimus<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>由 <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.109.0">Hugo</a> 强力驱动 | 主题 - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden=true></i> LoveIt</a></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2017 - 2023</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://blog.lxdlam.com target=_blank>Ramen</a></span>&nbsp;|&nbsp;<span class=license><a rel="license noopener" href=https://creativecommons.org/licenses/by-nc-sa/4.0/ target=_blank>署名-非商业性使用-相同方式共享 4.0 国际</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=回到顶部><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title=查看评论><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/copy-tex.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/mhchem.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"复制到剪贴板",maxShownLines:10},comment:{},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1}}</script><script type=text/javascript src=/js/theme.min.js></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-92306989-1",{anonymize_ip:!0})</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=UA-92306989-1" async></script></body></html>