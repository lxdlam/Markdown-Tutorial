<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>Google Code Jam 2019 资格轮题解 - Ramen's Box</title><meta name=Description content="Ramen's stuff box"><meta property="og:title" content="Google Code Jam 2019 资格轮题解"><meta property="og:description" content="说起来很搞笑，4.7 凌晨 3 点我躺床上看群友聊到 GCJ 我才反应过来好像是资格赛，然后我随口问了一下什么时候这轮结束，特巨回了我一句：“你大概还剩&mldr;8 个小时？” 然后我掐指一算，早上 10 点截止，而我肯定写不来。幸好的是，A B 两个题的 Visible Set 就够晋级线 30 分了，躺床上把这两个题 Rush 出来我就睡了。第二天爬起来又想了想，把剩下两个题都写了。
这一轮其实四个题都很白给（比 Kickstart 简单一万倍），为什么写这一轮呢，主要是感觉这几题都还挺有意思的（难度也比去年低），加上好久没写题解了，练练手。其实官方是有题解的，就当我写了个翻译吧。"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.lxdlam.com/post/2201e4f5/"><meta property="og:image" content="https://blog.lxdlam.com/logo.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-04-11T21:57:18+08:00"><meta property="article:modified_time" content="2023-01-04T02:01:57+08:00"><meta property="og:site_name" content="My cool site"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blog.lxdlam.com/logo.png"><meta name=twitter:title content="Google Code Jam 2019 资格轮题解"><meta name=twitter:description content="说起来很搞笑，4.7 凌晨 3 点我躺床上看群友聊到 GCJ 我才反应过来好像是资格赛，然后我随口问了一下什么时候这轮结束，特巨回了我一句：“你大概还剩&mldr;8 个小时？” 然后我掐指一算，早上 10 点截止，而我肯定写不来。幸好的是，A B 两个题的 Visible Set 就够晋级线 30 分了，躺床上把这两个题 Rush 出来我就睡了。第二天爬起来又想了想，把剩下两个题都写了。
这一轮其实四个题都很白给（比 Kickstart 简单一万倍），为什么写这一轮呢，主要是感觉这几题都还挺有意思的（难度也比去年低），加上好久没写题解了，练练手。其实官方是有题解的，就当我写了个翻译吧。"><meta name=application-name content="Ramen's Box"><meta name=apple-mobile-web-app-title content="Ramen's Box"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://blog.lxdlam.com/post/2201e4f5/><link rel=prev href=https://blog.lxdlam.com/post/7f2851ba/><link rel=next href=https://blog.lxdlam.com/post/e0924d0d/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><meta name=google-site-verification content="UA-92306989-1"><meta name=baidu-site-verification content="092774cb717e6851abd2d7fc55835b40"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Google Code Jam 2019 资格轮题解","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/blog.lxdlam.com\/post\/2201e4f5\/"},"image":["https:\/\/blog.lxdlam.com\/images\/Apple-Devices-Preview.png"],"genre":"posts","keywords":"题解, GCJ, Google Code Jam 2019, 算法, 算法竞赛","wordcount":4610,"url":"https:\/\/blog.lxdlam.com\/post\/2201e4f5\/","datePublished":"2019-04-11T21:57:18+08:00","dateModified":"2023-01-04T02:01:57+08:00","license":"本站所有内容基于署名-非商业性使用-相同方式共享 4.0 国际协议（CC BY-NC-SA 4.0）给出许可","publisher":{"@type":"Organization","name":"Ramen","logo":"https:\/\/blog.lxdlam.com\/images\/avatar.png"},"author":{"@type":"Person","name":"Ramen"},"description":""}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Ramen's Box"><span class=header-title-pre><i class='fas fa-star'></i></span>Ramen's Box</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>所有文章 </a><a class=menu-item href=/tags/>标签 </a><a class=menu-item href=/categories/>分类 </a><a class=menu-item href=/about/>关于 </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题>
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Ramen's Box"><span class=header-title-pre><i class='fas fa-star'></i></span>Ramen's Box</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts/ title>所有文章</a><a class=menu-item href=/tags/ title>标签</a><a class=menu-item href=/categories/ title>分类</a><a class=menu-item href=/about/ title>关于</a><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题>
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>目录</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Google Code Jam 2019 资格轮题解</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://blog.lxdlam.com title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>Ramen</a></span>&nbsp;<span class=post-category>收录于 <a href=/categories/%E8%B6%A3%E9%A2%98%E8%AE%B0%E5%BD%95/><i class="far fa-folder fa-fw" aria-hidden=true></i>趣题记录</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2019-04-11>2019-04-11</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;约 4610 字&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;预计阅读 10 分钟&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#a-foregone-solution>A. Foregone Solution</a><ul><li><a href=#题意>题意</a></li><li><a href=#test-set-1>Test Set 1</a></li><li><a href=#test-set-2>Test Set 2</a></li><li><a href=#test-set-3>Test Set 3</a></li><li><a href=#code>Code</a></li></ul></li><li><a href=#b-you-can-go-your-own-way>B. You Can Go Your Own Way</a><ul><li><a href=#题意-1>题意</a></li><li><a href=#test-set-1-1>Test Set 1</a></li><li><a href=#test-set-2-1>Test Set 2</a></li><li><a href=#test-set-3-1>Test Set 3</a></li><li><a href=#code-1>Code</a></li></ul></li><li><a href=#c-cryptopangrams>C. Cryptopangrams</a><ul><li><a href=#题意-2>题意</a></li><li><a href=#test-set-1-2>Test Set 1</a></li><li><a href=#test-set-2-2>Test Set 2</a></li><li><a href=#code-2>Code</a></li></ul></li><li><a href=#d-dat-bae>D. Dat Bae</a><ul><li><a href=#题意-3>题意</a></li><li><a href=#test-set-1-3>Test Set 1</a></li><li><a href=#test-set-2-3>Test Set 2</a></li><li><a href=#code-3>Code</a></li></ul></li></ul></nav></div></div><div class=content id=content><p>说起来很搞笑，4.7 凌晨 3 点我躺床上看群友聊到 GCJ 我才反应过来好像是资格赛，然后我随口问了一下什么时候这轮结束，特巨回了我一句：“你大概还剩&mldr;8 个小时？” 然后我掐指一算，早上 10 点截止，而我肯定写不来。幸好的是，A B 两个题的 Visible Set 就够晋级线 30 分了，躺床上把这两个题 Rush 出来我就睡了。第二天爬起来又想了想，把剩下两个题都写了。</p><p>这一轮其实四个题都很白给（比 Kickstart 简单一万倍），为什么写这一轮呢，主要是感觉这几题都还挺有意思的（难度也比去年低），加上好久没写题解了，练练手。其实官方是有题解的，就当我写了个翻译吧。</p><h2 id=a-foregone-solution>A. Foregone Solution</h2><p>白给题 1 号。</p><h3 id=题意>题意</h3><p>给定一个至少含有一个 $4$ 的数 $N$，求两个数 $A, B$ 都不包含 $4$ 且 $A+B=N$。</p><h3 id=test-set-1>Test Set 1</h3><p>由于 $N &lt; 10^5$，暴力枚举 $A$ 然后检查一下 $A$ 和 $N-A$ 都包不包含 $4$ 就可以了。</p><h3 id=test-set-2>Test Set 2</h3><p>由于 $N&lt;10^9$，枚举肯定不行了，我们可以考虑这么做：随机选一个在区间 $[1,N-1]$ 内的数 $A$，然后检查是否 $A$ 和 $N-A$ 都不包含 $4$ 就可以了。这样的做法是肯定没有问题的，但是复杂度够吗？</p><p>对于 $A$ 来说，我们考虑一下选出来这个数不包含 $4$ 的概率。这个概率很好求，由于每一位都是独立的，所以这个概率是 $(\frac{9}{10})^9 \approx0.387$。假如 $N-A$ 含有 $4$ 怎么办？我们可以考虑稍微的对 $A$ 做一下加减扰动一下，如果怎么扰动都含有 $4$，我们就重新随机。这样大概重复 100 次，我们最终的概率就是 $5.9\times10^{-42}$，几乎可以认为是 $0$ 了，这样就能得到一个解。</p><p>Analysis 里面讲了一个更严格的随机化证明，但是实际上这个东西有点杀鸡焉用牛刀了，而且明显有一个更 straightforward 的做法，我就不抄了。</p><h3 id=test-set-3>Test Set 3</h3><p>$N&lt;10^{100}$，这么大个数字暴力还是随机化啊？</p><p>我相信绝大部分正常人都会想到这个解法：直接按位拆分，如 $7$ 分解成 $2+5$，顺序枚举每个位构造两个数就可以了，$\mathcal{O}(\text{len}(N))$。</p><h3 id=code>Code</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>## Full score, 6+10+1</span>
</span></span><span class=line><span class=cl><span class=n>T</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=nb>input</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>change</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;0&#39;</span><span class=p>,</span> <span class=s1>&#39;0&#39;</span><span class=p>,</span> <span class=s1>&#39;1&#39;</span><span class=p>,</span> <span class=s1>&#39;1&#39;</span><span class=p>,</span> <span class=s1>&#39;2&#39;</span><span class=p>,</span> <span class=s1>&#39;2&#39;</span><span class=p>,</span> <span class=s1>&#39;3&#39;</span><span class=p>,</span> <span class=s1>&#39;2&#39;</span><span class=p>,</span> <span class=s1>&#39;3&#39;</span><span class=p>,</span> <span class=s1>&#39;3&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>change_rev</span> <span class=o>=</span> <span class=p>[</span><span class=nb>str</span><span class=p>(</span><span class=n>i</span> <span class=o>-</span> <span class=nb>int</span><span class=p>(</span><span class=n>change</span><span class=p>[</span><span class=n>i</span><span class=p>]))</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>)]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>kase</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>T</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>num</span> <span class=o>=</span> <span class=nb>input</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;Case #</span><span class=si>%d</span><span class=s1>: </span><span class=si>%s</span><span class=s1> </span><span class=si>%s</span><span class=s1>&#39;</span> <span class=o>%</span> <span class=p>(</span><span class=n>kase</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>change</span><span class=p>[</span><span class=nb>int</span><span class=p>(</span><span class=n>it</span><span class=p>)]</span> <span class=k>for</span> <span class=n>it</span> <span class=ow>in</span> <span class=n>num</span><span class=p>),</span>
</span></span><span class=line><span class=cl>                             <span class=s1>&#39;&#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>change_rev</span><span class=p>[</span><span class=nb>int</span><span class=p>(</span><span class=n>it</span><span class=p>)]</span> <span class=k>for</span> <span class=n>it</span> <span class=ow>in</span> <span class=n>num</span><span class=p>)))</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=b-you-can-go-your-own-way>B. You Can Go Your Own Way</h2><p>白给题 2 号。</p><h3 id=题意-1>题意</h3><p>你从一个 $N\times N$ 大小的网格的起点 $(0,0)$ 开始走，只能向下（按题目说法，南，<code>S</code>）或者向右（东，<code>E</code>），走到 $(N,N)$。Lydia 已经走了这么一条路了，你不能重复她走过的任何一条路径，如她经过了路径 $(3,4)\to(3,5)$，你就不能走着一条路径，但经过相同的格子是允许的。给出 Lydia 的行走序列，请给出任何一种可行的方案。</p><h3 id=test-set-1-1>Test Set 1</h3><p>$2\le N\le 10$。直接枚举每一步怎么走然后模拟验证即可，$\mathcal{O}(N\cdot2^N)$。</p><h3 id=test-set-2-1>Test Set 2</h3><p>$2\le N \le 1000$。考虑从 $(0,0)$ 开始 DFS，直到走到 $(N,N)$ 位置，中间一旦遇到任何 Lydia 走过的路径就剪枝减掉。复杂度 $\mathcal{O}(N^2)$。</p><h3 id=test-set-3-1>Test Set 3</h3><p>至多十个测试点 $2\le N\le 50000$，剩余测试点 $1\le N\le 10000$。这个限制下肯定不能 DFS 了，我们来尝试其他做法。</p><p>如果你在纸上随便这么画一个网格，可能会得到一个观察：如果我沿对角线 $(0,0)-(N,N)$ 对 Lydia 走的路做一下对称，这样产生的新路径一定和 Lydia 走过的路没有任何重合。</p><p>我们来证明这个观察是对的。假设我们走了 $X$ 步右和 $Y$ 步下，那有一个直观的观察是，无论我们这几步右和下是怎么走的，我们最终来到的都是 $(X,Y)$ 这个点。也就是说，我们的位置和走法顺序无关，只和每个方向走了多少步有关。</p><p>那接下来我们来讨论两种情况：</p><ul><li>$X=Y$ 时，我们必定和 Lydia 相遇在同一个点，根据我们的策略，下一步我们走出的路径必定是 Lydia 所走路径的对称路径。这也就是说我们一定走出了和 Lydia 不同的路径。</li><li>$X\ne Y$ 时，此时刚好会有$X_M=Y_L, Y_M=X_L$，我们所在的点也和 Lydia 所在的点沿对角线对称，我们更是不可能复用 Lydia 走过的路径。</li></ul><p>所以这条对称的路径一定不会和 Lydia 的路径有重合的地方。那么我们直接构造这一条沿对角线对称的路线即可。实现上来说，就是 Lydia 如果走了 <code>E</code> 那我们就走 <code>S</code>，反之亦然。复杂度 $\mathcal{O}(N)$。</p><h3 id=code-1>Code</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>## Full score, 5+9+10</span>
</span></span><span class=line><span class=cl><span class=n>T</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=nb>input</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>kase</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>T</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>input</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>R</span> <span class=o>=</span> <span class=nb>input</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>ans</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>it</span> <span class=ow>in</span> <span class=n>R</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>it</span> <span class=o>==</span> <span class=s1>&#39;S&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>ans</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s1>&#39;E&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>ans</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s1>&#39;S&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Case #&#34;</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=s1>&#39;&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>kase</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=s1>&#39;&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;:&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>ans</span><span class=p>))</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=c-cryptopangrams>C. Cryptopangrams</h2><p>这个题有点意思，但是还是比较基础的数论题。</p><h3 id=题意-2>题意</h3><p>选择 26 个不大于 $N$ 的不同的质数，然后把 <code>A-Z</code> 从小到大一一对应到每一个质数上。然后我们对一个长度为 $L+1$ 的原文 $S$ 执行如下的加密操作：每相邻两位乘起来，得到一个 $L$ 长度的序列：$E_1=P_{S_1}\cdot P_{S_2}, \cdots, E_L=P_{S_L}\cdot P_{S_{L+1}}$。现在给定 $N, L, \{E_i\}$，求原文 $S$。$25\le L\le 100$，保证每个字母都在 $S$ 中出现过一次。</p><h3 id=test-set-1-2>Test Set 1</h3><p>$1\le N\le 10000$。由于限制很宽裕，质数的个数不超过 $10^4$ 个，埃筛一下然后每个数逐个测试一下，得到这个序列。</p><p>得到这个序列之后需要解密，解密过程看起来很复杂其实很简单，这是一个链式过程：由于我们知道 $E_1$ 是由前两个字母对应的数乘起来的，那么我们就找到这两个质数，分别测试一下就可以了：假定找到的两个解为 $P_1, P_2$，我们先使用 $p_1=P_1$ 去测试，这样我们就能得到 $p_2=E_2/p_1$，然后有了 $p_2$ 就能继续链式求下去。如果我们在这个过程中遇到了 $\gcd(p_i, E_{i+1})=1$ 的情况，那么代表这个链式操作出现了问题，$p_1$ 就不可能是 $P_1$，那答案就是 $P_2$，反之亦然。所以我们两次测试加上链式操作就可以解密出整个原文来。总复杂度为 $\mathcal{O}(NL+L)$。</p><h3 id=test-set-2-2>Test Set 2</h3><p>$1\le N\le10^{100}$。这个数实在是太大了，不可能挨个试所有质数。所以我们换个思路：求出所有可能的质数。</p><p>我们考虑一个简单的字符串： <code>ABC</code>，这样产生的序列为：$P_\text{A}\cdot P_\text{B},P_\text{B}\cdot P_\text{C}$。由于 $P_\text{A}, P_\text{B}$ 和 $P_\text{C}$ 是三个互不相同的质数，他们不会有任何的相同质因子，所以我们对上述两个数求一下最大公约数是多少？$P_\text{B}$！也就是说，我们只需要顺着求一遍相邻每两个数的质因子，然后就可以得到三个我们加密过程中用到的质数。排个序然后去一下重就可以了，拿一个 <code>set</code> 维护一下更方便。求最大公约数用辗转相除法就行，复杂度 $\mathcal{O}(\log N)$。</p><p>然而，上面的做法没有考虑到一个 case：<code>ABA</code>。这样得到的两个数 $E_1, E_2$ 是相等的，我们求不出任何一个质因子。这个问题的解决方法需要这样的一个观察：由于 26 个字母都会出现一次，也就是说，我们可以求出至少一个满足要求的质数。所以，我们并不一定需要求出 $P_\text{A}$ 或者 $P_{B}$，只要我们求出了其他一个质因子，最终都可以在链式的操作下求出这两个数。为了满足这个要求，我们只需要枚举每两个数，看看这两个数是否有一个公共的质因子，如果有的话，我们就可以顺着求出其他 25 个质数了，这个操作显然是 $\mathcal{O}(L^2)$ 的，由于 $25 \le L\le 100$，复杂度完全足够。</p><p>在求出所有质数之后，我们执行一遍测试集 1 的解密过程就行。总复杂度 $\mathcal{O}(L^2\log N+L)$。</p><h3 id=code-2>Code</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>## Full score but upsolved</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>math</span> <span class=kn>import</span> <span class=n>gcd</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>T</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=nb>input</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>test</span><span class=p>(</span><span class=n>A</span><span class=p>,</span> <span class=n>st</span><span class=p>,</span> <span class=n>L</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>ret</span> <span class=o>=</span> <span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>*</span> <span class=n>L</span>
</span></span><span class=line><span class=cl>    <span class=n>ret</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=n>A</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>//</span> <span class=n>st</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>idx</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=n>L</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>g</span> <span class=o>=</span> <span class=n>A</span><span class=p>[</span><span class=n>idx</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span> <span class=o>//</span> <span class=n>ret</span><span class=p>[</span><span class=n>idx</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>gcd</span><span class=p>(</span><span class=n>A</span><span class=p>[</span><span class=n>idx</span> <span class=o>-</span> <span class=mi>1</span><span class=p>],</span> <span class=n>g</span><span class=p>)</span> <span class=o>==</span> <span class=mi>1</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=kc>False</span><span class=p>,</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=n>ret</span><span class=p>[</span><span class=n>idx</span><span class=p>]</span> <span class=o>=</span> <span class=n>g</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=kc>True</span><span class=p>,</span> <span class=n>ret</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>kase</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>T</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>N</span><span class=p>,</span> <span class=n>L</span> <span class=o>=</span> <span class=nb>map</span><span class=p>(</span><span class=nb>int</span><span class=p>,</span> <span class=nb>input</span><span class=p>()</span><span class=o>.</span><span class=n>split</span><span class=p>())</span>
</span></span><span class=line><span class=cl>    <span class=n>A</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=nb>map</span><span class=p>(</span><span class=nb>int</span><span class=p>,</span> <span class=nb>input</span><span class=p>()</span><span class=o>.</span><span class=n>split</span><span class=p>()))</span>
</span></span><span class=line><span class=cl>    <span class=n>prime</span> <span class=o>=</span> <span class=nb>set</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>ans</span> <span class=o>=</span> <span class=nb>list</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>L</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>L</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=n>g</span> <span class=o>=</span> <span class=n>gcd</span><span class=p>(</span><span class=n>A</span><span class=p>[</span><span class=n>i</span><span class=p>],</span> <span class=n>A</span><span class=p>[</span><span class=n>j</span><span class=p>])</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>g</span> <span class=o>!=</span> <span class=mi>1</span> <span class=ow>and</span> <span class=n>g</span> <span class=o>!=</span> <span class=n>A</span><span class=p>[</span><span class=n>i</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>                <span class=n>prime</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>g</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>prime</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>A</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>//</span> <span class=n>g</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>prime</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>A</span><span class=p>[</span><span class=n>j</span><span class=p>]</span> <span class=o>//</span> <span class=n>g</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>prime</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=nb>sorted</span><span class=p>(</span><span class=n>prime</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>it</span> <span class=ow>in</span> <span class=n>prime</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>A</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>%</span> <span class=n>it</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>ret</span><span class=p>,</span> <span class=n>ans</span> <span class=o>=</span> <span class=n>test</span><span class=p>(</span><span class=n>A</span><span class=p>,</span> <span class=n>it</span><span class=p>,</span> <span class=n>L</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>ret</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>break</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Case #</span><span class=si>%d</span><span class=s2>: </span><span class=si>%s</span><span class=s2>&#34;</span> <span class=o>%</span> <span class=p>(</span><span class=n>kase</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=nb>chr</span><span class=p>(</span><span class=nb>ord</span><span class=p>(</span><span class=s1>&#39;A&#39;</span><span class=p>)</span> <span class=o>+</span> <span class=n>prime</span><span class=o>.</span><span class=n>index</span><span class=p>(</span><span class=n>it</span><span class=p>))</span> <span class=k>for</span> <span class=n>it</span> <span class=ow>in</span> <span class=n>ans</span><span class=p>)))</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=d-dat-bae>D. Dat Bae</h2><p>这个题就非常好玩了，可以说是构造解中的典范。</p><h3 id=题意-3>题意</h3><p>你有一个建在深山中的数据库，但是这个数据库最近出了问题。这个数据库是一个 $N$ 个 worker 组成的集群，编号为 $0\sim N-1$，你现在可以使用一个函数调用 <code>TEST_STORE</code> 发送一个长度为 $N$ 的 <code>01</code> 串给你的数据库，每台机器在收到消息后原样返回，也就是调用会给你返回完全相同的串。然而，有 $B$ 台 worker 坏了，这 $B$ 台机器并不会返回任何东西，也就是说，此时 <code>TEST_STORE</code> 调用只会给你返回 $N-B$ 长度的串。假设 $N=5,B=2$ 且坏掉的机器是 0 号和 3 号，那么调用会发生下面的结果：</p><ul><li><code>TEST_STORE 01101</code> 返回 <code>111</code>。</li><li><code>TEST_STORE 00110</code> 返回 <code>010</code>。</li><li><code>TEST_STORE 01010</code> 返回 <code>100</code>。</li><li><code>TEST_STORE 11010</code> 也返回 <code>100</code>。</li></ul><p>由于建在深山中的原因，<code>TEST_STORE</code> 调用的代价十分昂贵，所以你只能进行至多 $F$ 次调用。交互的向系统提出至多 $F$ 次询问，并给出坏了的 $B$ 台 worker 的编号。$2\le N\le 1024, 1\le B\le \min(15,N-1)$。</p><h3 id=test-set-1-3>Test Set 1</h3><p>$F=10$。我们考虑把这十次询问顺序从上到下排列起来，那这就是一个有 $N$ 列，10 行的 <code>01</code> 矩阵。现在我们不按行去看，而按列去考虑：假如某台机器 $a$ 坏了，那么在这个矩阵中，$a$ 列会全部消失。那现在问题就是，我们如何去定位这些消失的列。注意到每一列为一个 10 长度的 <code>01</code> 串，我们如果从上往下拿出某一列然后把它转置一下会得到什么？一个 10 长度的二进制数！由于共有 10 位，所以可以表示的最大数字是 $2^{10}=1024\ge N$！</p><p>所以，我们把 $0\sim N$ 用二进制编码出来，然后把它全部转置之后拼起来，并逐行询问，得到答案矩阵后再反向解码，这里面缺少的数就是那些坏掉的机器的编号，输出即可。</p><h3 id=test-set-2-3>Test Set 2</h3><p>$F=5$。此时 $2^5=32$，无法再像测试集 1 的做法去做了。不过，测试集 1 给到我们的提示就是如何设计编码协议，所以，我们来考虑如何在这个限制下设计编码协议。</p><p>注意到 $2^5=32>B=\min(15, N-1)$，也就是说，即使是连续的 $B$ 台机器损坏了，我们接收到的错误序号也在一次完整的编码范围内。这提示我们，可以分块：分成长度为 $32$ 的多个块，循环给每个块编码为 $0\sim31$，然后如上题一样的做法进行询问和解码。由于 $2^5>B$，如果连续的 $B$ 台设备损坏了，这一组损坏的机器只可能在某一块之内或者处于两块的交界，我们在顺着扫的过程中都能定位到这些缺失的编码，那么，对于更少的机器，我们自然也可以如此定位。与此同时，由于 $2^5>B$，连续损坏的机器不可能为完整的一块，所以我们能保证扫一遍定位出来的机器编号是唯一确定的。所以，这个做法是正确的。</p><p>而由于 $2^4=16>B$，我们甚至可以只使用 $4$ 次询问就得到答案！（见下面代码）为什么？我们假设 $B=16$，如果我们连续的 $B$ 台机器损坏了，那么可能损坏了完整的一块，这给我们定位带来了难度：考虑有四个循环编号的块 <code>1 | 2 | 3 | 4</code>，这四块是完全相同的。假设其中的某一块丢失，如 <code>2</code> 完整丢失了，那给我们返回的结果是 <code>1 | 3 | 4</code>。注意到问题了吗？这样的返回结果我们同样可以解释成 <code>1 | 2 | 3</code> 或者 <code>2 | 3 | 4</code> 等等。也就是说，如果 $2^4\ge B$ ，当完整的一块丢失的时候，我们完全无法定位丢失块的位置，我们也就无法唯一确定丢失编号了。而如果是大于关系，这样的要求就完全可以满足，所以，$F=4$ 的情况下，我们就可以得到答案。</p><h3 id=code-3>Code</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span><span class=lnt>73
</span><span class=lnt>74
</span><span class=lnt>75
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=c1>// Full score but upsolved
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=cp>#include</span> <span class=cpf>&lt;bits/stdc++.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>string</span> <span class=n>numbers</span><span class=p>[]{</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;0000&#34;</span><span class=p>,</span> <span class=s>&#34;0001&#34;</span><span class=p>,</span> <span class=s>&#34;0010&#34;</span><span class=p>,</span> <span class=s>&#34;0011&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;0100&#34;</span><span class=p>,</span> <span class=s>&#34;0101&#34;</span><span class=p>,</span> <span class=s>&#34;0110&#34;</span><span class=p>,</span> <span class=s>&#34;0111&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;1000&#34;</span><span class=p>,</span> <span class=s>&#34;1001&#34;</span><span class=p>,</span> <span class=s>&#34;1010&#34;</span><span class=p>,</span> <span class=s>&#34;1011&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;1100&#34;</span><span class=p>,</span> <span class=s>&#34;1101&#34;</span><span class=p>,</span> <span class=s>&#34;1110&#34;</span><span class=p>,</span> <span class=s>&#34;1111&#34;</span><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>ios</span><span class=o>::</span><span class=n>sync_with_stdio</span><span class=p>(</span><span class=nb>false</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>cin</span><span class=p>.</span><span class=n>tie</span><span class=p>(</span><span class=k>nullptr</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span><span class=p>.</span><span class=n>tie</span><span class=p>(</span><span class=k>nullptr</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>T</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>T</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>kase</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=n>kase</span> <span class=o>&lt;=</span> <span class=n>T</span><span class=p>;</span> <span class=n>kase</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>N</span><span class=p>,</span> <span class=n>B</span><span class=p>,</span> <span class=n>F</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>N</span> <span class=o>&gt;&gt;</span> <span class=n>B</span> <span class=o>&gt;&gt;</span> <span class=n>F</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>ans</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>vector</span><span class=o>&lt;</span><span class=n>string</span><span class=o>&gt;</span> <span class=n>res</span><span class=p>(</span><span class=mi>4</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=mi>4</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>stringstream</span> <span class=n>ss</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>p</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>p</span> <span class=o>&lt;</span> <span class=n>N</span><span class=p>;</span> <span class=n>p</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>ss</span> <span class=o>&lt;&lt;</span> <span class=n>numbers</span><span class=p>[</span><span class=n>p</span> <span class=o>%</span> <span class=mi>16</span><span class=p>][</span><span class=n>i</span><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>ss</span><span class=p>.</span><span class=n>str</span><span class=p>()</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>res</span><span class=p>[</span><span class=n>i</span><span class=p>];</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>cur</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>N</span> <span class=o>-</span> <span class=n>B</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>stringstream</span> <span class=n>ss</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>p</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>p</span> <span class=o>&lt;</span> <span class=mi>4</span><span class=p>;</span> <span class=n>p</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>ss</span> <span class=o>&lt;&lt;</span> <span class=n>res</span><span class=p>[</span><span class=n>p</span><span class=p>][</span><span class=n>i</span><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>lower_bound</span><span class=p>(</span><span class=n>numbers</span><span class=p>,</span> <span class=n>numbers</span> <span class=o>+</span> <span class=mi>16</span><span class=p>,</span> <span class=n>ss</span><span class=p>.</span><span class=n>str</span><span class=p>())</span> <span class=o>-</span> <span class=n>numbers</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=k>while</span> <span class=p>(</span><span class=n>cur</span> <span class=o>%</span> <span class=mi>16</span> <span class=o>!=</span> <span class=n>n</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=n>ans</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>cur</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=n>cur</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=n>cur</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=p>(</span><span class=n>cur</span> <span class=o>&lt;</span> <span class=n>N</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>ans</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>cur</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=n>cur</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>assert</span><span class=p>(</span><span class=n>ans</span><span class=p>.</span><span class=n>size</span><span class=p>()</span> <span class=o>==</span> <span class=n>B</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>B</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>ans</span><span class=p>[</span><span class=n>i</span><span class=p>];</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=p>(</span><span class=n>i</span> <span class=o>==</span> <span class=n>B</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span>
</span></span><span class=line><span class=cl>                <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=sc>&#39; &#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>t</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>t</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>assert</span><span class=p>(</span><span class=n>t</span> <span class=o>==</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><hr><p>说实话， Qualification Round 难度实在是过于简单了，整体水平就 CF Div 2 A~D 的水平，这也就导致了晋级了将近 2 万 7 千人，而 Round 1 要从这些人里面选 4500 人晋级下一轮，接下来可能白给的就是我了。</p><p>Anyway，省赛也快了，做点题回复一下手感，如果能晋级更好。不出意外的话，我们下一轮见。</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>更新于 2023-01-04</span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="分享到 Twitter" data-sharer=twitter data-url=https://blog.lxdlam.com/post/2201e4f5/ data-title="Google Code Jam 2019 资格轮题解" data-hashtags="题解,GCJ,Google Code Jam 2019,算法,算法竞赛"><i class="fab fa-twitter fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="分享到 Facebook" data-sharer=facebook data-url=https://blog.lxdlam.com/post/2201e4f5/ data-hashtag=题解><i class="fab fa-facebook-square fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="分享到 Instapaper" data-sharer=instapaper data-url=https://blog.lxdlam.com/post/2201e4f5/ data-title="Google Code Jam 2019 资格轮题解" data-description><i data-svg-src=https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/instapaper.svg aria-hidden=true></i></a><a href=javascript:void(0); title="分享到 Pocket" data-sharer=pocket data-url=https://blog.lxdlam.com/post/2201e4f5/><i class="fab fa-get-pocket fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="分享到 微博" data-sharer=weibo data-url=https://blog.lxdlam.com/post/2201e4f5/ data-title="Google Code Jam 2019 资格轮题解"><i class="fab fa-weibo fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="分享到 Evernote" data-sharer=evernote data-url=https://blog.lxdlam.com/post/2201e4f5/ data-title="Google Code Jam 2019 资格轮题解"><i class="fab fa-evernote fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/%E9%A2%98%E8%A7%A3/>题解</a>,&nbsp;<a href=/tags/gcj/>GCJ</a>,&nbsp;<a href=/tags/google-code-jam-2019/>Google Code Jam 2019</a>,&nbsp;<a href=/tags/%E7%AE%97%E6%B3%95/>算法</a>,&nbsp;<a href=/tags/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B/>算法竞赛</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/>主页</a></span></section></div><div class=post-nav><a href=/post/7f2851ba/ class=prev rel=prev title="2018 新生杯纪实"><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>2018 新生杯纪实</a>
<a href=/post/e0924d0d/ class=next rel=next title="Google Kick Start 2019 Round C 题解">Google Kick Start 2019 Round C 题解<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>由 <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.109.0">Hugo</a> 强力驱动 | 主题 - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden=true></i> LoveIt</a></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2017 - 2023</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://blog.lxdlam.com target=_blank>Ramen</a></span>&nbsp;|&nbsp;<span class=license><a rel="license noopener" href=https://creativecommons.org/licenses/by-nc-sa/4.0/ target=_blank>署名-非商业性使用-相同方式共享 4.0 国际</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=回到顶部><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title=查看评论><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/copy-tex.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/mhchem.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"复制到剪贴板",maxShownLines:10},comment:{},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1}}</script><script type=text/javascript src=/js/theme.min.js></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-92306989-1",{anonymize_ip:!0})</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=UA-92306989-1" async></script></body></html>